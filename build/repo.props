<Project>
  <Import Project="..\version.props" />

  <PropertyGroup>
    <Version>$(VersionPrefix)</Version>
    <Version Condition="'$(VersionSuffix)' != ''">$(Version)-$(VersionSuffix)</Version>
    <Version Condition="'$(BuildNumber)' != ''">$(Version)-$(BuildNumber)</Version>

    <DisableSharedSources>true</DisableSharedSources>
  </PropertyGroup>

  <ItemGroup>
    <ExcludeFromTest Include="$(RepositoryRoot)test\ApiCheckBaseline*\*.csproj" />
  </ItemGroup>

  <ItemGroup>
    <KoreBuildModule Include="NuGetPackageVerifier" />
    <KoreBuildModule Include="NuGet.Tasks" />
    <KoreBuildModule Include="BuildTools.Tasks" />
  </ItemGroup>

  <ItemGroup Condition="'$(DotNetBuildFromSource)' == 'true'">
    <ExcludeFromPack Include="$(RepositoryRoot)src\ApiCheck.Console\ApiCheck.Console.csproj" />
    <ExcludeFromPack Include="$(RepositoryRoot)src\ApiCheck.Task\ApiCheck.Task.csproj" />
    <ExcludeFromPack Include="$(RepositoryRoot)src\VersionTool\VersionTool.csproj" />
  </ItemGroup>
</Project>
